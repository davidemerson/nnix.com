+++
title = "dotfiles"
slug = "dotfiles"
date = 2025-01-22
description = "how I build my workstation environment."
[extra]
  toc = true
+++

I keep updated scripts for this [here](https://github.com/davidemerson/dotfiles.git)

There's a good guide on sway for Debian [here](https://wiki.debian.org/sway), since that's still a little new for me, coming from dwm and i3. As of Debian 12.9, it is possible to get stuck without a working system if you simply apt-get install sway on Debian, so keep that in mind.

I used to have an OpenBSD guide here, but I got tired of maintaining that, since I'm consistently disappointed with the desktop experience in OpenBSD. I love and support the project, just not its regular use as a workstation OS. This is a guide last tested on Debian 12.9

# procedure

If you're using VMWare Workstation on a Windows host, remember to enable the "Enhanced Keyboard" driver in the guest configuration, so you don't have a lockscreen key combination conflict.

Also (in VMWare Workstation), enable 3D Acceleration, and give the guest machine something like 2GB VRAM allocation.

Run through standard install. Install the Debian Standard Desktop, GNOME, standard system utilities, and sshd.

Log in as your user. su to root.

Install curl, git, micro, sudo.

```
apt install curl micro git sudo
```

Add your user to sudoers

```
sudoedit /etc/sudoers
```

Install salt (and -minion)

```
curl -L https://github.com/saltstack/salt-bootstrap/releases/latest/download/bootstrap-salt.sh | sh
```

You don't really want gdm to start always, right?

```
systemctl disable gdm
```

Head back to your local user

```
exit
```

Grab this repo. If you're going to fork this and make your own dotfiles, you might want to make a step before the cloning bit where you scp your ssh key to the workstation you're building so you can read/write the repo, and then push your changes back live. If you're just getting a system running, though, read alone is enough here.
```
git clone https://github.com/davidemerson/dotfiles.git
```

Execute the execute.sh script, which refreshes the `/srv/salt/` directory and applies highstate.
```
cd dotfiles
chmod 755 execute.sh
sudo sh execute.sh
```

Make your hostname is appropriate
```
sudo hostnamectl set-hostname yourhostnamehere
```

Reboot
```
sudo reboot
```

# notes
* You'll note that my `.muttrc` and `.msmtprc` refer to `~/.secrets/mailpass` for credentials. This is a one liner file containing my mail app password, keeping it out of this repo, and allowing me to do things like encrypt it on disk. You can substitute any form of password management here, to accommodate your personal preferences.

# additional references
Check out how others have done this kind of thing, for inspiration and documentation:
* [sohcahtoa](https://sohcahtoa.org.uk/openbsd.html)
* [jcs](https://jcs.org/2021/07/19/desktop)
* [daulton](https://daulton.ca/2018/08/openbsd-workstation/)
* [eradman](http://eradman.com/posts/openbsd-workstation.html)
* [agung-satria](https://github.com/agung-satria/debian-sway/)